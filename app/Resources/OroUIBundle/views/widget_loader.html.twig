<div id="{{ elementId }}" style="{{ options.visibility is not defined ? 'visibility: hidden;' : 'visibility: ' ~ options.visibility }}">
    {% if options.elementFirst %}
        {% render options.url %}
    {% endif %}
</div>

<script type="text/javascript">
    {% set widgetFile = widgetType == 'dashboard-item' ? 'mediklydashboard/js/widget/dashboard-item' : 'oro/' ~ widgetType ~ '-widget' %}
    require(['jquery', '{{ widgetFile }}', 'ready!app'], function($, Widget){
        $(function(){
            var widget = new Widget({{ options|json_encode|raw }});
            $("#{{ elementId }}").css('visibility', 'visible');
            {% if options.elementFirst %}
                widget.render();
            {% endif %}
        });
    });
</script>
